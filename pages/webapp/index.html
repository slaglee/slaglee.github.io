<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width,minimum-scale=1,maximum-scale=1">
	<title>数据图表展示</title>
	<!-- 载入所有的资源 -->
	<script type="text/javascript" src="./js/lib/jquery.js"></script>
	<script type="text/javascript" src="./js/lib/jquery-ui.min.js"></script>
	<script type="text/javascript" src="./js/lib/jquery.fullpage.js"></script>
	
</head>
<body>

<!-- H5相关资源 -->
	<script type="text/javascript">
	var res = ['Base','Bar','Point','Polyline','Radar','Pai'];
	var html = [];
	for (s in res) {
		html.push('<script type="text/javascript" src="./js/H5Component'+res[s]+'.js"><\/script>');
		html.push('<link rel="stylesheet" href="./css/H5Component'+res[s]+'.css">');
	};
	document.write(html.join(' '));
	</script>
	<!-- H5相关对象 -->
	<script type="text/javascript" src="./js/H5.js"></script>
	<link rel="stylesheet" type="text/css" href="./css/H5.css">
	<!-- loading动画文件 -->
	<script type="text/javascript" src="./js/H5_loading.js"></script>
	<link rel="stylesheet" type="text/css" href="./css/H5_loading.css">
	<div class="loading">
		<div class="double_bounce1"></div>
		<div class="double_bounce2"></div>

		<div id="rate">0%</div>
	</div>
	<!-- 主要逻辑样式 -->
	<style>
		body{
			margin:0;
			padding: 0;
		}
		.h5_page{
			background-image: url(./imgs/page_bg.png);
			overflow: hidden;
		}
		.h5_page_face{
			background-image: url(./imgs/face_bg.png);
		}
		.h5_component_name_slogan{
			-webkit-animation:rock 2s infinite 2s;
		}
		@-webkit-keyframes rock{
			0%{transform: rotate(0deg);}
			5%{transform: rotate(3deg);}
			10%{transform: rotate(-4deg);}
			15%{transform: rotate(3deg);}
			20%{transform: rotate(-2deg);}
			25%{transform: rotate(1deg);}
			30%{transform: rotate(-1deg);}
			70%{transform: rotate(0deg);}
			100%{transform: rotate(0deg);}
		}
		.h5_component_name_caption{
			background-image: url(./imgs/page_caption_bg.png);
			width: 283px;
			height: 160px;
			text-align: center;
			line-height: 140px;
			font-size: 20px;
			color: #ffffff;
		}
		.h5_component_name_back{
			top:30px;
			-webkit-animation:back 2s infinite 2s;
		}
		@-webkit-keyframes back{
			50%{top:20px}
		}
	</style>
	<!-- 主要逻辑内容 -->
	<script type="text/javascript">
	$(function(){
		var h5 = new H5();
		//自动添加滑动滚屏组件
		h5.whenAddpage = function() {
			this.addComponent('slide_up',{
				bg:'./imgs/footer.png',
				css:{
					left:0,bottom:-20,
					width:'100%',height:'20px',zIndex:999
				},
				animateIn: {opacity:1,bottom:'-1px'},
				animateOut: {opacity:0,bottom:'-20px'},
				delay:500
			})
		}
		//请求数据
		$.getJSON('data.json',function(data) {
			var loadingFile = {}
			var loadingImage = [];
			$.each(data,function(index,item){
				if (item.isPage) {
					h5.addPage(item.name,item.text);
				} else {
					h5.addComponent(item.name,item.cfg);
					loadingFile[item.cfg['bg']] = item.cfg['bg'];
				}
			})
			//去除没有item.cfg['bg']的值
			for (s in loadingFile) {
				if (s != 'undefined') {
					loadingImage.push(loadingFile[s]);
				}
			};/*
			console.log(loadingFile);
			console.log(loadingImage);*/
			h5.loader(loadingImage);
		});
	//console.log(h5);
		/*h5
		.addPage('face')
			.addComponent('topic',{
				center: true,
				width: 395,
				height: 130,
				bg: './imgs/face_logo.png',
				css:{opacity:0},
				animateIn:{top:100,opacity:1},
				animateOut:{top:0,opacity:0}
			})
			.addComponent('slogan',{
				center:true,
				width:365,
				height:99,
				bg:'./imgs/face_slogan.png',
				css:{opacity:0,top:180},
				animateIn:{left:'50%',opacity:1},
				animateOut:{left:'0%',opacity:0},
				delay:500
			})
			.addComponent('face_img_left',{
				width:370,
				height:493,
				bg:'./imgs/face_img_left.png',
				css:{opacity:0,left:-50,bottom:-50},
				animateIn:{opacity:1,left:0,bottom:0},
				animateOut:{opacity:0,left:-50,bottom:-50},
				delay:1000
			})
			.addComponent('face_img_right',{
				width:276,
				height:449,
				bg:'./imgs/face_img_right.png',
				css:{opacity:0,right:-50,bottom:-50},
				animateIn:{opacity:1,right:0,bottom:0},
				animateOut:{opacity:0,right:-50,bottom:-50},
				delay:1000
			})
		.addPage()
			.addComponent('caption',{
				text:'核心理念'
			})
			.addComponent('text',{
				width:500,
				height: 30,
				center: true,
				text: 'IT教育网=只学有用的',
				css: {
					opacity:0,textAlign:'center',color:'red',fontSize:'26px'
				},
				animateIn: {opacity:1,top:120},
				animateOut: {opacity:0,top: 240}
			})
			.addComponent('description',{
				center:true,
				width:481,
				height:295,
				bg: './imgs/description_bg.gif',
				css: {
					opacity:0,
					padding:'15px 10px 10px 10px',
					color:'#fff',
					fontSize:'15px',
					lineHeight:'18px',
					textAlign:'justify',
					top:240
				},
				text:'2013年，IT教育网的诞生引领中国IT职业从教育进入新时代；高质量实战课程、全新教学模式、实时互动学习，以领先优势打造行业品牌；迄今为止，IT教育网已成为中国规模最大、互动性最高的IT技能学习平台。',
				animateIn: {opacity:1,top:190},
				animateOut: {opacity:0,top:180},
				delay:500
			})
			.addComponent('people',{
				center:true,
				width:515,
				height:305,
				bg: './imgs/p1_people.png',
				css: {
					opacity:0,
					bottom:0
				},
				animateIn:{opacity:1,bottom:40},
				animateOut:{opacity:0,bottom:0},
				delay:1000
			})
		.addPage()
			.addComponent('caption',{text:'课程分布方向'})
			.addComponent('polyline',{
				type: 'Polyline',
				width: 530,
				height: 400,
				data:[
					['js',.4],
					['html5',.2],
					['css3',.1],
					['PHP',.2],
					['VueJs',.3]
				],
				css: {
					top: 100,
					opacity: 0
				},
				animateIn: {
					top: 200,
					opacity: 1
				},
				animateOut: {
					top: 100,
					opacity: 0
				},
				center: true
			})
		.addPage()
			.addComponent('caption',{text:'移动开发'})
			.addComponent('bar',{
				type: 'bar',
				width: 530,
				height: 600,
				data:[
					['javascript',.4,'green'],
					['html5',.2,'yellow'],
					['css3',.1,'red'],
					['jQuery',.2,'blue'],
					['BootStrap',.05,'pink'],
					['AngularJs',.3,'lightBlue']
				],
				css: {
					top: 100,
					opacity: 0
				},
				animateIn: {top: 200,opacity: 1},
				animateOut: {top: 100,opacity: 0},
				center: true
			})
		.addPage()
			.addComponent('caption',{text:'前端开发'})
			.addComponent('point',{
				type: 'point',
				width: 300,
				height: 300,
				data:[
					['A项',.4,'#ff7676'],
					['B项',.2,'#ffa3a4',0,'-60%'],
					['C项',.3,'#99c1ff','50%','-120%']
				],
				css: {
					bottom: '20%'
				},
				center: true
			})
		.addPage()
			.addComponent('caption',{text:'后端开发'})
			.addComponent('radar',{
				type: 'Radar',
				width: 400,
				height: 400,
				data:[
					['js',.8],
					['html5',.7],
					['css3',.6],
					['PHP',.3],
					['VueJs',.5]
				],
				css: {
					top: 100,
					opacity: 0
				},
				animateIn: {
					top: 200,
					opacity: 1
				},
				animateOut: {
					top: 100,
					opacity: 0
				},
				center: true
			})
		.addPage()
			.addComponent('caption',{text:'报名人数过万'})
			.addComponent('pai',{
				type: 'Pai',
				width: 400,
				height: 400,
				data:[
					['js',.4,'red'],
					['html5',.2,'blue'],
					['css3',.2,'orange'],
					['PHP',.1,'yellow'],
					['VueJs',.1,'pink']
				],
				css: {
					top: 100,
					opacity: 1
				},
				animateIn: {
					top: 200,
					opacity: 1
				},
				animateOut: {
					top: 100,
					opacity: 0
				},
				center: true
			})
		.addPage('tail')
			.addComponent('logo',{
				center:true,
				width: 359,
				height:129,
				bg:'./imgs/tail_logo.png',
				css:{top:240,opacity:0},
				animateIn:{opacity:1,top:210},
				animateOut:{opacity:0,top:240}
			})
			.addComponent('slogan',{
				center:true,
				width: 314,
				height:46,
				bg:'./imgs/tail_slogan.png',
				css:{top:280,opacity:0,left:'0%'},
				animateIn:{opacity:1,left:'50%'},
				animateOut:{opacity:0,left:'0%'},
				delay:500
			})
			.addComponent('share',{
				width: 128,
				height:120,
				bg:'./imgs/tail_share.png',
				css:{top:10,opacity:0},
				animateIn:{opacity:1,right:10},
				animateOut:{opacity:0,right:110},
				delay:500
			})
			.addComponent('back',{
				center:true,
				width: 52,
				height:50,
				bg:'./imgs/tail_back.png',
				onclick: function(){
					$.fn.fullpage.moveTo(1);
				}
			})
		.loader([
			'./imgs/description_bg.gif',
			'./imgs/face_bg.png',
			'./imgs/face_logo.png',
			'./imgs/face_slogan.png',
			'./imgs/face_img_left.png',
			'./imgs/face_img_right.png',
			'./imgs/footer.png',
			'./imgs/p1_people.png',
			'./imgs/page_bg.png',
			'./imgs/page_caption_bg.png',
			'./imgs/tail_back.png',
			'./imgs/tail_logo.png',
			'./imgs/tail_share.png',
			'./imgs/tail_slogan.png'
		]);*/
	})
	</script>
</body>
</html>